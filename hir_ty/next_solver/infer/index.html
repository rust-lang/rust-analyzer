<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Infer context the next-trait-solver."><title>hir_ty::next_solver::infer - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="hir_ty" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.1 (01f6ddf75 2026-02-11)" data-channel="1.93.1" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module infer</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../hir_ty/index.html">hir_ty</a><span class="version">0.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module infer</a></h2><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In hir_<wbr>ty::<wbr>next_<wbr>solver</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">hir_ty</a>::<wbr><a href="../index.html">next_solver</a></div><h1>Module <span>infer</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/hir_ty/next_solver/infer/mod.rs.html#1-1351">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Infer context the next-trait-solver.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">Â§</a></h2><dl class="item-table reexports"><dt><code>pub use <a class="enum" href="enum.BoundRegionConversionTime.html" title="enum hir_ty::next_solver::infer::BoundRegionConversionTime">BoundRegionConversionTime</a>::*;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="mod" href="at/index.html" title="mod hir_ty::next_solver::infer::at">at</a></dt><dd>A nice interface for working with the infcx. The basic idea is to
do <code>infcx.at(cause, param_env)</code>, which sets the â€œcauseâ€ of the
operation as well as the surrounding parameter environment. Then
you can do something like <code>.sub(a, b)</code> or <code>.eq(a, b)</code> to create a
subtype or equality relationship respectively. The first argument
is always the â€œexpectedâ€ output from the POV of diagnostics.</dd><dt><a class="mod" href="canonical/index.html" title="mod hir_ty::next_solver::infer::canonical">canonical</a></dt><dd><strong>Canonicalization</strong> is the key to constructing a query in the
middle of type inference. Ordinarily, it is not possible to store
types from type inference in query keys, because they contain
references to inference variables whose lifetimes are too short
and so forth. Canonicalizing a value T1 using <code>canonicalize_query</code>
produces two things:</dd><dt><a class="mod" href="context/index.html" title="mod hir_ty::next_solver::infer::context">context</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Definition of <code>InferCtxtLike</code> from the librarified type layer.</dd><dt><a class="mod" href="opaque_types/index.html" title="mod hir_ty::next_solver::infer::opaque_types">opaque_<wbr>types</a></dt><dd>Things related to the infer context of the next-trait-solver.</dd><dt><a class="mod" href="outlives/index.html" title="mod hir_ty::next_solver::infer::outlives">outlives</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="mod" href="region_constraints/index.html" title="mod hir_ty::next_solver::infer::region_constraints">region_<wbr>constraints</a></dt><dd>See <code>README.md</code>.</dd><dt><a class="mod" href="relate/index.html" title="mod hir_ty::next_solver::infer::relate">relate</a></dt><dd>This module contains the definitions of most <code>TypeRelation</code>s in the type system
(except for some relations used for diagnostics and heuristics in the compiler).
As well as the implementation of <code>Relate</code> for interned things (<code>Ty</code>/<code>Const</code>/etc).</dd><dt><a class="mod" href="resolve/index.html" title="mod hir_ty::next_solver::infer::resolve">resolve</a></dt><dd>Things for resolving vars in the infer context of the next-trait-solver.</dd><dt><a class="mod" href="select/index.html" title="mod hir_ty::next_solver::infer::select">select</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="mod" href="snapshot/index.html" title="mod hir_ty::next_solver::infer::snapshot">snapshot</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Snapshotting in the infer ctxt of the next-trait-solver.</dd><dt><a class="mod" href="traits/index.html" title="mod hir_ty::next_solver::infer::traits">traits</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Trait Resolution. See the <a href="https://rustc-dev-guide.rust-lang.org/traits/resolution.html">rustc-dev-guide</a> for more information on how this works.</dd><dt><a class="mod" href="type_variable/index.html" title="mod hir_ty::next_solver::infer::type_variable">type_<wbr>variable</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Storage for type variables for the infer context the next-trait-solver.</dd><dt><a class="mod" href="unify_key/index.html" title="mod hir_ty::next_solver::infer::unify_key">unify_<wbr>key</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Unification keyes for the infer context the next-trait-solver.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.FixupError.html" title="struct hir_ty::next_solver::infer::FixupError">Fixup<wbr>Error</a></dt><dt><a class="struct" href="struct.InferCtxt.html" title="struct hir_ty::next_solver::infer::InferCtxt">Infer<wbr>Ctxt</a></dt><dt><a class="struct" href="struct.InferCtxtBuilder.html" title="struct hir_ty::next_solver::infer::InferCtxtBuilder">Infer<wbr>Ctxt<wbr>Builder</a></dt><dd>Used to configure inference contexts before their creation.</dd><dt><a class="struct" href="struct.InferCtxtInner.html" title="struct hir_ty::next_solver::infer::InferCtxtInner">Infer<wbr>Ctxt<wbr>Inner</a></dt><dd>This type contains all the things within <code>InferCtxt</code> that sit within a
<code>RefCell</code> and are involved with taking/rolling back snapshots. Snapshot
operations are hot enough that we want only one call to <code>borrow_mut</code> per
call to <code>start_snapshot</code> and <code>rollback_to</code>.</dd><dt><a class="struct" href="struct.InferOk.html" title="struct hir_ty::next_solver::infer::InferOk">InferOk</a></dt><dd><code>InferOk&lt;'db, ()&gt;</code> is used a lot. It may seem like a useless wrapper
around <code>PredicateObligations</code>, but it has one important property:
because <code>InferOk</code> is marked with <code>#[must_use]</code>, if you have a method
<code>InferCtxt::f</code> that returns <code>InferResult&lt;()&gt;</code> and you call it with
<code>infcx.f()?;</code> youâ€™ll get a warning about the obligations being discarded
without use, which is probably unintentional and has been a source of bugs
in the past.</dd><dt><a class="struct" href="struct.MemberConstraint.html" title="struct hir_ty::next_solver::infer::MemberConstraint">Member<wbr>Constraint</a></dt><dd>Requires that <code>region</code> must be equal to one of the regions in <code>choice_regions</code>.
We often denote this using the syntax:</dd><dt><a class="struct" href="struct.TypeOutlivesConstraint.html" title="struct hir_ty::next_solver::infer::TypeOutlivesConstraint">Type<wbr>Outlives<wbr>Constraint</a></dt><dd>See the <code>region_obligations</code> field for more information.</dd><dt><a class="struct" href="struct.TypeTrace.html" title="struct hir_ty::next_solver::infer::TypeTrace">Type<wbr>Trace</a></dt><dd>The trace designates the path through inference that we took to
encounter an error or subtyping constraint.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.BoundRegionConversionTime.html" title="enum hir_ty::next_solver::infer::BoundRegionConversionTime">Bound<wbr>Region<wbr>Conversion<wbr>Time</a></dt><dd>Times when we replace bound regions with existentials:</dd><dt><a class="enum" href="enum.TyOrConstInferVar.html" title="enum hir_ty::next_solver::infer::TyOrConstInferVar">TyOr<wbr>Const<wbr>Infer<wbr>Var</a></dt><dd>Helper for <a href="struct.InferCtxt.html#method.ty_or_const_infer_var_changed" title="method hir_ty::next_solver::infer::InferCtxt::ty_or_const_infer_var_changed">InferCtxt::ty_or_const_infer_var_changed</a> (see comment on that), currently
used only for <code>traits::fulfill</code>â€™s list of <code>stalled_on</code> inference variables.</dd><dt><a class="enum" href="enum.ValuePairs.html" title="enum hir_ty::next_solver::infer::ValuePairs">Value<wbr>Pairs</a></dt><dd>See the <code>error_reporting</code> module for more details.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.DbInternerInferExt.html" title="trait hir_ty::next_solver::infer::DbInternerInferExt">DbInterner<wbr>Infer<wbr>Ext</a></dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.iter_idx_range.html" title="fn hir_ty::next_solver::infer::iter_idx_range">iter_<wbr>idx_<wbr>range</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.InferResult.html" title="type hir_ty::next_solver::infer::InferResult">Infer<wbr>Result</a></dt><dt><a class="type" href="type.ObligationInspector.html" title="type hir_ty::next_solver::infer::ObligationInspector">Obligation<wbr>Inspector</a></dt><dd>A callback that can be provided to <code>inspect_typeck</code>. Invoked on evaluation
of root obligations.</dd><dt><a class="type" href="type.UnificationTable.html" title="type hir_ty::next_solver::infer::UnificationTable">Unification<wbr>Table</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt></dl></section></div></main></body></html>